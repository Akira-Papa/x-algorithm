# Xアルゴリズム完全攻略ガイド: 第4章〜第6章

## 第4章: コンテンツがフィルタリングされる理由

---

**生徒**: 先生、昨日投稿したツイートが全然伸びなかったんです。スコアは悪くないはずなのに...

**先生**: なるほど。それはフィルタリングに引っかかった可能性があるね。Xのアルゴリズムには、スコアリングの前後で働く「フィルター」があるんだ。

**生徒**: フィルター？スコアとは別物なんですか？

**先生**: そう。どんなに良いスコアでも、フィルターで弾かれたら表示されない。大きく分けて2種類ある。

### Pre-Scoringフィルター（スコアリング前のフィルター）

**先生**: まず、スコアリングされる前に候補から外されるケースを見てみよう。

```
Pre-Scoringフィルター一覧:
┌─────────────────────────────────────────────────────────┐
│ 1. 重複ツイート                                          │
│    → 同じ内容を繰り返し投稿                              │
│                                                         │
│ 2. 古すぎるツイート                                      │
│    → 一定期間を過ぎたコンテンツ                          │
│                                                         │
│ 3. 自分自身のツイート                                    │
│    → 自分のForYouには表示されない                        │
│                                                         │
│ 4. すでに見たツイート                                    │
│    → 過去にインプレッション済み                          │
│                                                         │
│ 5. ミュート/ブロック対象                                 │
│    → ユーザー設定による除外                              │
└─────────────────────────────────────────────────────────┘
```

**生徒**: 重複ツイートって、具体的にどういうものですか？

**先生**: 例えば、バズったツイートをそのままコピーして再投稿する行為だね。アルゴリズムはこれを検出して、候補から除外する。

**生徒**: 「おはようございます」みたいな定型文は大丈夫ですか？

**先生**: 微妙なラインだね。完全に同じ文面を毎日投稿すると、重複と判定される可能性がある。少しバリエーションを加えるのがおすすめだよ。

### Post-Selectionフィルター（スコアリング後のフィルター）

**先生**: 次は、スコアリングされた後に適用されるフィルターだ。

```
Post-Selectionフィルター一覧:
┌─────────────────────────────────────────────────────────┐
│ 1. 信頼性・安全性フィルター                              │
│    → スパム判定、ポリシー違反                            │
│                                                         │
│ 2. ソーシャルプルーフ閾値                                │
│    → 最低限のエンゲージメントがないと除外                │
│                                                         │
│ 3. 著者多様性フィルター（第5章で詳述）                   │
│    → 同一著者の連続表示を制限                            │
│                                                         │
│ 4. コンテンツバランスフィルター                          │
│    → 特定ジャンルの偏りを調整                            │
└─────────────────────────────────────────────────────────┘
```

**生徒**: ソーシャルプルーフって何ですか？

**先生**: 他のユーザーからの反応（いいね、RT、リプライなど）のことだよ。一定の反応がないと「このツイートは価値がない」と判断されて、広い配信から除外される。

### ミュートキーワードとブロックの影響

**生徒**: 自分がミュートされてるかどうかって分かりますか？

**先生**: 残念ながら、ミュートは通知されない。でも、ミュートとブロックの違いを理解しておくことは重要だよ。

```
ミュートとブロックの違い:
┌───────────────┬──────────────────────┬──────────────────────┐
│               │ ミュート             │ ブロック             │
├───────────────┼──────────────────────┼──────────────────────┤
│ 相手への通知   │ なし                 │ なし（確認は可能）   │
│ フォロー関係   │ 維持される           │ 解除される           │
│ DM            │ 送受信可能           │ 送受信不可           │
│ あなたのTL    │ 相手のツイート非表示  │ 相手のツイート非表示  │
│ 相手のTL      │ あなたのツイート表示  │ あなたのツイート非表示│
│ リプライ       │ 受け取るが非表示     │ リプライ不可         │
└───────────────┴──────────────────────┴──────────────────────┘
```

**生徒**: キーワードミュートってどう影響しますか？

**先生**: キーワードミュートを設定しているユーザーには、そのキーワードを含むツイートが表示されない。例えば「ネタバレ」をミュートしている人には、「ネタバレ注意」と書いたツイートは届かない。

### 実践的アドバイス

**先生**: フィルタリングを回避するためのポイントをまとめておこう。

```
フィルター回避のベストプラクティス:
┌─────────────────────────────────────────────────────────┐
│ ✅ DO（やるべきこと）                                   │
│ ・オリジナルコンテンツを作成する                         │
│ ・定型文には日付や状況を加える                           │
│ ・投稿直後のエンゲージメントを重視する                   │
│ ・広くミュートされそうなワードを避ける                   │
│                                                         │
│ ❌ DON'T（避けるべきこと）                              │
│ ・他人のツイートをそのままコピー                         │
│ ・同じ内容の繰り返し投稿                                 │
│ ・スパム的な大量投稿                                     │
│ ・センシティブワードの乱用                               │
└─────────────────────────────────────────────────────────┘
```

**生徒**: 投稿直後のエンゲージメントが重要なんですね。

**先生**: そう。ソーシャルプルーフを早く獲得することで、Post-Selectionフィルターを通過しやすくなる。だからフォロワーがアクティブな時間帯に投稿することが大切なんだ。

---

## 第5章: 著者多様性とフィード品質

---

**生徒**: 先生、1日に30ツイートくらいしてるんですけど、リーチが伸びなくなってきました。

**先生**: ああ、それは「著者多様性フィルター」の影響かもしれないね。

**生徒**: 著者多様性...ですか？

**先生**: Xのアルゴリズムは、ユーザーのタイムラインに同じ人のツイートが連続しないように調整しているんだ。

### 同一著者の連続投稿が抑制される仕組み

**先生**: 想像してみて。タイムラインを開いたら、最初の10ツイートが全部同じ人だったらどう思う？

**生徒**: うーん、ちょっとうんざりするかも。

**先生**: そうだよね。だからアルゴリズムは、同一著者のツイートが連続しないようにシャッフルする。

```
著者多様性の仕組み:
┌─────────────────────────────────────────────────────────┐
│                                                         │
│ 【シャッフル前】           【シャッフル後】              │
│                                                         │
│ 1. Aさんのツイート         1. Aさんのツイート           │
│ 2. Aさんのツイート    →    2. Bさんのツイート           │
│ 3. Aさんのツイート         3. Cさんのツイート           │
│ 4. Bさんのツイート         4. Aさんのツイート           │
│ 5. Cさんのツイート         5. Dさんのツイート           │
│                                                         │
│ ※ 同一著者が連続しないように再配置される                │
└─────────────────────────────────────────────────────────┘
```

**生徒**: でも、スコアが高いツイートは優先されるんじゃないですか？

**先生**: もちろんスコアは考慮される。でも、同一著者の2番目以降のツイートには「減衰係数」がかかるんだ。

### 減衰係数の働き

**先生**: 減衰係数は、同一著者のツイートが何番目に表示されるかによってスコアを減少させる仕組みだよ。

```
減衰係数の例:
┌─────────────────────────────────────────────────────────┐
│                                                         │
│ 著者Aのツイート群:                                      │
│                                                         │
│ ツイート1: スコア 100 × 1.0  = 100（減衰なし）          │
│ ツイート2: スコア 100 × 0.7  = 70 （30%減衰）           │
│ ツイート3: スコア 100 × 0.5  = 50 （50%減衰）           │
│ ツイート4: スコア 100 × 0.3  = 30 （70%減衰）           │
│                                                         │
│ ※ 具体的な減衰率はアルゴリズムによって動的に調整        │
└─────────────────────────────────────────────────────────┘
```

**生徒**: 4番目のツイートは、スコアが同じでも70%も減衰されるんですか！

**先生**: これはあくまで例だけど、イメージとしてはそう。だから、量より質を重視した投稿戦略が重要になる。

**生徒**: じゃあ、1日に何回投稿するのがベストですか？

**先生**: 一般的には3〜5回程度が効果的と言われている。ただし、これは目安であって、フォロワーの活動パターンやジャンルによって変わる。

### フィードの多様性を高める戦略

**先生**: 自分のツイートがより多くのタイムラインに表示されるための戦略を考えてみよう。

```
多様性を活かした投稿戦略:
┌─────────────────────────────────────────────────────────┐
│                                                         │
│ 🕐 時間分散戦略                                         │
│ ・投稿を1日の中で分散させる                              │
│ ・例: 朝8時、昼12時、夜20時など                         │
│ ・連続投稿を避け、各投稿が独立して評価されるように       │
│                                                         │
│ 📝 コンテンツ多様化戦略                                 │
│ ・テキストのみ、画像付き、動画など形式を変える           │
│ ・話題も複数のジャンルをバランスよく                     │
│ ・スレッドを活用して1つの投稿で深い内容を                │
│                                                         │
│ 🔄 エンゲージメント最適化戦略                            │
│ ・各投稿に十分な反応がついてから次を投稿                 │
│ ・フォロワーとの会話を大切にする                         │
│ ・最も反応の良い投稿タイプを分析して活用                 │
└─────────────────────────────────────────────────────────┘
```

**生徒**: スレッドを使えば、減衰係数を回避できますか？

**先生**: 良い質問だね。スレッドは「1つのコンテンツ」として扱われるので、連続投稿による減衰の影響を受けにくい。長い内容を伝えたいときはスレッドがおすすめだよ。

**生徒**: バズってるツイートに便乗してリプライをたくさんするのはどうですか？

**先生**: リプライも著者多様性の対象になる。同じ人が同じスレッドに何度もリプライすると、後のリプライは表示されにくくなる。1つの会話には1〜2回の質の高いリプライに絞るのが効果的だよ。

### 実践的アドバイス

```
著者多様性を味方につける方法:
┌─────────────────────────────────────────────────────────┐
│                                                         │
│ ✅ 効果的なアプローチ                                   │
│ ・1投稿に全力を注ぎ、量より質を重視                      │
│ ・投稿間隔を最低2〜3時間空ける                           │
│ ・スレッドで深い内容を1つにまとめる                      │
│ ・フォロワーのアクティブ時間帯をピンポイントで狙う       │
│                                                         │
│ ❌ 避けるべきアプローチ                                 │
│ ・短時間での連続投稿                                     │
│ ・似たような内容の繰り返し                               │
│ ・バズ狙いの大量リプライ                                 │
│ ・同じスレッドへの複数回リプライ                         │
└─────────────────────────────────────────────────────────┘
```

---

## 第6章: インネットワーク vs アウトオブネットワーク

---

**生徒**: 先生、「おすすめ」タブに自分のフォローしてない人のツイートがたくさん出てくるんですけど、これって何ですか？

**先生**: それがまさに今日のテーマだね。Xのタイムラインには、大きく分けて2種類のツイートが表示されるんだ。

### インネットワーク（In-Network）とは

**先生**: まず、インネットワークから説明しよう。

```
インネットワーク（IN）の定義:
┌─────────────────────────────────────────────────────────┐
│                                                         │
│ 「あなたがフォローしている人からのツイート」             │
│                                                         │
│ 特徴:                                                   │
│ ・すでに信頼関係が構築されている                         │
│ ・興味関心が一致している可能性が高い                     │
│ ・タイムラインで優先的に表示される                       │
│                                                         │
│ ソース:                                                 │
│ ・フォロイーの直接投稿                                   │
│ ・フォロイーのリツイート                                 │
│ ・フォロイーが参加している会話                           │
└─────────────────────────────────────────────────────────┘
```

**生徒**: つまり、自分のフォローしている人のツイートがインネットワークですね。

**先生**: その通り。そしてインネットワークのツイートは、基本的にスコアがそのまま適用される。係数は1.0だ。

### アウトオブネットワーク（Out-of-Network）とは

**先生**: 次に、アウトオブネットワークを見てみよう。

```
アウトオブネットワーク（OON）の定義:
┌─────────────────────────────────────────────────────────┐
│                                                         │
│ 「あなたがフォローしていない人からのツイート」           │
│                                                         │
│ 特徴:                                                   │
│ ・新しい発見の機会を提供                                 │
│ ・興味関心に基づいてアルゴリズムが選定                   │
│ ・0.85倍の係数がかかる（15%のペナルティ）               │
│                                                         │
│ 発見経路:                                               │
│ ・Similar User（類似ユーザーの行動）                    │
│ ・Topic Following（トピックフォロー）                   │
│ ・Trending Content（トレンドコンテンツ）                │
│ ・Two-Tower Retrieval（機械学習による推薦）             │
└─────────────────────────────────────────────────────────┘
```

**生徒**: 0.85倍の係数って、フォローされてない人のツイートは不利ってことですか？

**先生**: そういうことだね。これを「OON係数」と呼ぶ。

### OON係数（0.85x）の意味

**先生**: OON係数がなぜ存在するか、考えてみよう。

```
OON係数の意義:
┌─────────────────────────────────────────────────────────┐
│                                                         │
│ スコア計算の例:                                         │
│                                                         │
│ 【フォロイーのツイート】                                 │
│  基本スコア: 100 × 1.0（IN係数）= 100                   │
│                                                         │
│ 【非フォロイーのツイート】                               │
│  基本スコア: 100 × 0.85（OON係数）= 85                  │
│                                                         │
│ → 同じ品質でも、フォロイーが15ポイント有利               │
│                                                         │
│ この設計の理由:                                         │
│ ・ユーザーの明示的な選択（フォロー）を尊重              │
│ ・エコーチェンバーの防止とバランスを取る                 │
│ ・新規発見の機会は提供しつつ、関連性を担保               │
└─────────────────────────────────────────────────────────┘
```

**生徒**: でも、バズってるツイートは非フォロワーにもたくさん届きますよね？

**先生**: 鋭い指摘だね。OON係数は15%の減点だけど、元のスコアが非常に高ければ、それでも上位に表示される。バズるツイートは基本スコアが数倍になっているから、0.85倍しても十分高いんだ。

### Two-Tower Retrievalの仕組み

**生徒**: Two-Tower Retrievalって何ですか？

**先生**: これはXがアウトオブネットワークのコンテンツを発見するために使っている機械学習の仕組みだよ。

```
Two-Tower Retrieval:
┌─────────────────────────────────────────────────────────┐
│                                                         │
│        ┌─────────────┐       ┌─────────────┐           │
│        │ User Tower  │       │Content Tower│           │
│        │             │       │             │           │
│        │ ユーザーの   │       │ ツイートの  │           │
│        │ 興味・行動   │       │ 特徴・内容  │           │
│        │ をベクトル化 │       │ をベクトル化│           │
│        └──────┬──────┘       └──────┬──────┘           │
│               │                     │                   │
│               └─────────┬───────────┘                   │
│                         │                               │
│                         ▼                               │
│               ┌─────────────────┐                       │
│               │   類似度計算    │                       │
│               │ Similarity Score│                       │
│               └─────────────────┘                       │
│                         │                               │
│                         ▼                               │
│               「この人にこのツイートは                   │
│                合いそう！」と判定                        │
└─────────────────────────────────────────────────────────┘
```

**生徒**: つまり、私の興味とツイートの内容をマッチングしてるんですね。

**先生**: そう。過去にいいねしたツイート、フォローしているアカウント、滞在時間が長かったコンテンツなどから、あなたの「興味ベクトル」を作成する。そして、各ツイートの「コンテンツベクトル」との類似度を計算して、マッチするものを推薦するんだ。

### 発見されるための戦略

**生徒**: 自分のツイートを非フォロワーにも届けるには、どうすればいいですか？

**先生**: いくつかの戦略があるよ。

```
アウトオブネットワークで発見される方法:
┌─────────────────────────────────────────────────────────┐
│                                                         │
│ 1️⃣ 高エンゲージメントの獲得                              │
│    ・まずフォロワーからの反応を最大化                    │
│    ・いいね、RT、リプライが増えるとOONにも配信           │
│    ・特にRTは非フォロワーへの直接的な露出                │
│                                                         │
│ 2️⃣ トピックとの関連性を高める                           │
│    ・特定のトピックに一貫した投稿を続ける                │
│    ・トピックフォローしているユーザーに届きやすい        │
│    ・専門性が認知されるとRecommendation対象に            │
│                                                         │
│ 3️⃣ Similar User経由の発見                              │
│    ・あなたのフォロワーに似た人にリーチ                  │
│    ・ニッチだが熱心なコミュニティを形成                  │
│    ・フォロワーの質が重要（アクティブさ、関連性）        │
│                                                         │
│ 4️⃣ トレンドへの参加                                     │
│    ・トレンドトピックに関連した投稿                      │
│    ・ただし関連性のない便乗は逆効果                      │
│    ・独自の視点や価値を加えることが重要                  │
└─────────────────────────────────────────────────────────┘
```

**生徒**: フォロワーからの反応が重要なんですね。

**先生**: そう。インネットワークでの成功が、アウトオブネットワークへの拡散の鍵なんだ。

### タイムラインの構成比率

**先生**: 最後に、タイムラインの大まかな構成を見てみよう。

```
「おすすめ」タイムラインの構成（目安）:
┌─────────────────────────────────────────────────────────┐
│                                                         │
│ ┌──────────────────────────────────────┐               │
│ │                                      │               │
│ │    インネットワーク（約50-60%）       │               │
│ │    ・フォロイーの投稿                 │               │
│ │    ・フォロイーのRT                   │               │
│ │                                      │               │
│ ├──────────────────────────────────────┤               │
│ │                                      │               │
│ │  アウトオブネットワーク（約40-50%）   │               │
│ │    ・推薦コンテンツ                   │               │
│ │    ・トピック関連                     │               │
│ │    ・トレンド                         │               │
│ │                                      │               │
│ └──────────────────────────────────────┘               │
│                                                         │
│ ※ ユーザーの行動パターンによって比率は変動              │
└─────────────────────────────────────────────────────────┘
```

**生徒**: 半分くらいはフォローしてない人からなんですね。

**先生**: うん。だから、新しいフォロワーを獲得するチャンスは十分にある。大切なのは、まず自分のフォロワーに価値を提供し続けること。それがアウトオブネットワークへの拡散につながるんだ。

### 実践的アドバイス

```
IN/OONを理解した投稿戦略:
┌─────────────────────────────────────────────────────────┐
│                                                         │
│ 📌 フォロワー向け（IN）戦略                             │
│ ・フォロワーが求める情報を一貫して提供                   │
│ ・コミュニティ感を大切にする（リプライ返し等）           │
│ ・投稿時間をフォロワーのアクティブ時間に合わせる         │
│                                                         │
│ 📌 新規獲得（OON）戦略                                  │
│ ・15%のハンデを超える品質・話題性を目指す                │
│ ・RTされやすいコンテンツ（共感、驚き、有用性）           │
│ ・トピックの専門性を高めて推薦されやすくする             │
│                                                         │
│ 📌 両方に効く戦略                                       │
│ ・高品質なコンテンツを継続的に投稿                       │
│ ・エンゲージメントを促す工夫（質問形式など）             │
│ ・視覚的に魅力的なメディアを活用                         │
└─────────────────────────────────────────────────────────┘
```

**生徒**: よく分かりました！まずはフォロワーさんに喜んでもらえる投稿を心がけます。

**先生**: その姿勢が大切だね。フォロワーを大切にすることが、結果的に新しいフォロワーを呼び込むことにつながるんだ。次章では、実際のスコアリングの数式について詳しく見ていこう。

---

## 第4章〜第6章のまとめ

```
┌─────────────────────────────────────────────────────────┐
│ 📚 学んだこと                                           │
│                                                         │
│ 【第4章: フィルタリング】                               │
│ ・Pre-Scoring: 重複、古さ、ミュートで候補外に           │
│ ・Post-Selection: 信頼性、著者多様性で調整              │
│ ・早期エンゲージメントでフィルター通過                   │
│                                                         │
│ 【第5章: 著者多様性】                                   │
│ ・同一著者の連続表示は抑制される                         │
│ ・減衰係数で2番目以降のスコアが下がる                   │
│ ・量より質、投稿の時間分散が重要                         │
│                                                         │
│ 【第6章: IN vs OON】                                    │
│ ・フォロイー（IN）: 係数1.0で優遇                       │
│ ・非フォロイー（OON）: 係数0.85で15%減                  │
│ ・Two-Tower Retrievalで興味マッチング                   │
│ ・フォロワーへの価値提供が拡散の鍵                       │
└─────────────────────────────────────────────────────────┘
```

---

*次章予告: 第7章〜第9章では、実際のスコアリング計算式、時間減衰の仕組み、そして具体的な投稿最適化テクニックについて学びます。*
